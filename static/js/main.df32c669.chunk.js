(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(10),i=n.n(c),o=(n(16),n(2)),r=n.n(o),l=n(4),u=n(3),j=(n(18),n(9)),m=n.n(j),b=n(7),h=(n(20),n(0));var d=function(){return Object(h.jsxs)("div",{className:"Header",children:[Object(h.jsx)("span",{className:"material-icons md-48 trophy",children:"emoji_events"}),Object(h.jsx)("h1",{className:"title",children:"The Shoppies"})]})};n(22);var O=function(e){var t=e.movie,n=e.setNominations,s=e.nominations,a=t.imdbID;return Object(h.jsxs)("div",{className:"NominationItem",children:[Object(h.jsx)("div",{className:"poster",children:"N/A"!==t.Poster&&Object(h.jsx)("img",{src:t.Poster})}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("h5",{children:t.Title}),Object(h.jsx)("h6",{children:t.Year})]}),Object(h.jsx)("div",{className:"button",children:Object(h.jsx)("button",{onClick:function(){n(s.filter((function(e){return e.imdbID!==a})))},children:"Remove"})})]})};n(23);var p=function(e){var t=e.nominations,n=e.setNominations,s=e.showNominations,a=Object(b.useMediaQuery)({maxWidth:767});return Object(h.jsxs)("div",{className:"Nominations ".concat(a&&!s?"hidden":""),children:[Object(h.jsx)("h2",{className:"header",children:"My Nominations"}),t.map((function(e){return Object(h.jsx)(O,{movie:e,nominations:t,setNominations:n},e.imdbID)}))]})},v="https://www.omdbapi.com/?apikey=a6e00c90";function x(e,t){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(r.a.mark((function e(t,n){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"&s=").concat(t,"&type=movie&page=").concat(n)).then((function(e){return e.json()}));case 3:return s=e.sent,console.log(s),e.abrupt("return",s);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}n(24);var N=function(e){var t=e.setMovies,n=e.setTotalResults,s=e.setSearchError,a=e.input,c=e.setInput;function i(){return(i=Object(l.a)(r.a.mark((function e(c,i){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,e.next=4,x(a,i);case 4:"True"==(o=e.sent).Response?(t(o.Search),n(o.totalResults)):(t(null),n(null),s(o.Error)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("form",{className:"SearchBar",onSubmit:function(e){return function(e,t){return i.apply(this,arguments)}(e,1)},children:[Object(h.jsx)("input",{type:"text",placeholder:"search movies..",value:a,onChange:function(e){return c(e.target.value)}}),Object(h.jsx)("button",{children:Object(h.jsx)("span",{className:"material-icons",children:"search"})})]})})},g=n(11);n(25);var w=function(e){var t=e.movie,n=e.nominations,a=e.setNominations,c=Object(s.useState)(!1),i=Object(u.a)(c,2),o=i[0],r=i[1];return Object(s.useEffect)((function(){(function(e){return n.some((function(t){return t.imdbID===e.imdbID}))})(t)&&(console.log(t,"already nominated"),r(!0))}),[]),Object(h.jsxs)("div",{className:"ResultItem",children:[Object(h.jsx)("div",{className:"poster",children:"N/A"!==t.Poster&&Object(h.jsx)("img",{src:t.Poster})}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("h5",{children:t.Title}),Object(h.jsx)("h6",{children:t.Year})]}),Object(h.jsx)("div",{children:o?Object(h.jsx)("button",{className:"button disabled",disabled:!0,children:"Nominated"}):Object(h.jsx)("button",{className:"button active",disabled:5===n.length,onClick:function(){a([].concat(Object(g.a)(n),[t])),r(!0)},children:"Nominate"})})]})};n(26);var y=function(e){var t=e.movies,n=e.totalResults,s=e.searchError,a=e.setNominations,c=e.nominations;return Object(h.jsxs)("div",{className:"SearchResults",children:[n&&Object(h.jsxs)("h5",{className:"total-results",children:["total results: ",n," "]}),t?t.map((function(e){return Object(h.jsx)(w,{movie:e,nominations:c,setNominations:a},e.imdbID)})):Object(h.jsx)("h2",{className:"no-results",children:s})]})};n(27);var S=function(e){var t=e.showNominations,n=e.setShowNominations,s=e.nominations;return Object(h.jsx)("div",{className:"MobileFooter",children:Object(h.jsx)("button",{className:"".concat(t&&"red"),onClick:function(){n(!t)},children:t?"Hide My Nominations":"View My Nominations (".concat(s.length,")")})})};n(28);var k=function(e){var t=e.nominations;return Object(h.jsx)(h.Fragment,{children:t&&Object(h.jsx)("div",{className:"Banner ".concat(t.length<5&&"hidden"),children:Object(h.jsx)("h4",{className:"text",children:" \ud83c\udf89 You have made 5 nominations!"})})})};var I=function(){var e=Object(b.useMediaQuery)({maxWidth:767}),t=Object(s.useState)(!1),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(s.useState)([]),o=Object(u.a)(i,2),j=o[0],O=o[1],v=Object(s.useState)([]),f=Object(u.a)(v,2),g=f[0],w=f[1],I=Object(s.useState)(null),R=Object(u.a)(I,2),C=R[0],D=R[1],M=Object(s.useState)(null),E=Object(u.a)(M,2),P=E[0],T=E[1],A=Object(s.useState)(""),B=Object(u.a)(A,2),F=B[0],L=B[1];function Y(){return(Y=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(F,t.selected+1);case 3:n=e.sent,w(n.Search),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(k,{nominations:j}),Object(h.jsx)(d,{}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsxs)("div",{className:"search",children:[Object(h.jsx)(N,{setMovies:w,setTotalResults:D,setSearchError:T,input:F,setInput:L}),Object(h.jsx)(y,{movies:g,setShowNominations:c,nominations:j,setNominations:O,totalResults:C,searchError:P}),C&&Object(h.jsx)(m.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:C/10,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:function(e){return Y.apply(this,arguments)},containerClassName:"pagination",activeClassName:"active"})]}),Object(h.jsx)(p,{nominations:j,setNominations:O,showNominations:a}),e&&Object(h.jsx)(S,{setShowNominations:c,showNominations:a,nominations:j})]})]})};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(I,{})}),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.df32c669.chunk.js.map